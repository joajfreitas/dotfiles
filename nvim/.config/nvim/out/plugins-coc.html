
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="highlight.css">
<h1>Coc Setup</h1>
<h2>Plugin</h2>
<div class="codehilite"><pre><span></span><code>Plug &#39;neoclide/coc.nvim&#39;, {&#39;branch&#39;: &#39;release&#39;}
</code></pre></div>

<p>Some servers have issues with backup files, see #649.</p>
<div class="codehilite"><pre><span></span><code>set nobackup
set nowritebackup
</code></pre></div>

<p>Give more space for displaying messages.</p>
<div class="codehilite"><pre><span></span><code>set .htmlheight=2
</code></pre></div>

<p>Having longer updatetime (default is 4000 ms = 4 s) leads to noticeable
delays and poor user experience.</p>
<div class="codehilite"><pre><span></span><code>set updatetime=300
</code></pre></div>

<p>Don't pass messages to |ins-completion-menu|.</p>
<div class="codehilite"><pre><span></span><code>set shortmess+=c
</code></pre></div>

<p>Use tab for trigger completion with characters ahead and navigate.
NOTE: Use command ':verbose imap <tab>' to make sure tab is not mapped by
other plugin before putting this into your config.</p>
<div class="codehilite"><pre><span></span><code><span class="n">inoremap</span> <span class="o">&lt;</span><span class="n">silent</span><span class="o">&gt;&lt;</span><span class="n">expr</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">TAB</span><span class="o">&gt;</span>
      <span class="err">\</span> <span class="n">pumvisible</span><span class="p">()</span> <span class="o">?</span> <span class="s">&quot;\&lt;C-n&gt;&quot;</span> <span class="o">:</span>
      <span class="err">\</span> <span class="o">&lt;</span><span class="n">SID</span><span class="o">&gt;</span><span class="n">check_back_space</span><span class="p">()</span> <span class="o">?</span> <span class="s">&quot;\&lt;TAB&gt;&quot;</span> <span class="o">:</span>
      <span class="err">\</span> <span class="n">coc</span><span class="p">#</span><span class="n">refresh</span><span class="p">()</span>
<span class="n">inoremap</span> <span class="o">&lt;</span><span class="n">expr</span><span class="o">&gt;&lt;</span><span class="n">S</span><span class="o">-</span><span class="n">TAB</span><span class="o">&gt;</span> <span class="n">pumvisible</span><span class="p">()</span> <span class="o">?</span> <span class="s">&quot;\&lt;C-p&gt;&quot;</span> <span class="o">:</span> <span class="s">&quot;\&lt;C-h&gt;&quot;</span>

<span class="k">function</span><span class="o">!</span> <span class="nl">s:</span><span class="n">check_back_space</span><span class="p">()</span> <span class="n">abort</span>
  <span class="n">let</span> <span class="n">col</span> <span class="o">=</span> <span class="n">col</span><span class="p">(</span><span class="sc">&#39;.&#39;</span><span class="p">)</span> <span class="o">-</span> <span class="mh">1</span>
  <span class="k">return</span> <span class="o">!</span><span class="n">col</span> <span class="o">||</span> <span class="n">getline</span><span class="p">(</span><span class="sc">&#39;.&#39;</span><span class="p">)[</span><span class="n">col</span> <span class="o">-</span> <span class="mh">1</span><span class="p">]</span>  <span class="o">=~</span><span class="p">#</span> <span class="sc">&#39;\s&#39;</span>
<span class="k">endfunction</span>

<span class="s">&quot; Always show the signcolumn, otherwise it would shift the text each time</span>
<span class="s">&quot; diagnostics appear/become resolved.</span>
<span class="k">if</span> <span class="n">has</span><span class="p">(</span><span class="s">&quot;patch-8.1.1564&quot;</span><span class="p">)</span>
  <span class="s">&quot; Recently vim can merge signcolumn and number column into one</span>
  <span class="n">set</span> <span class="n">signcolumn</span><span class="o">=</span><span class="n">number</span>
<span class="k">else</span>
  <span class="n">set</span> <span class="n">signcolumn</span><span class="o">=</span><span class="n">yes</span>
<span class="n">endif</span>

<span class="s">&quot; Use &lt;c-space&gt; to trigger completion.</span>
<span class="k">if</span> <span class="n">has</span><span class="p">(&#39;</span><span class="n">nvim</span><span class="p">&#39;)</span>
  <span class="n">inoremap</span> <span class="o">&lt;</span><span class="n">silent</span><span class="o">&gt;&lt;</span><span class="n">expr</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">c</span><span class="o">-</span><span class="n">space</span><span class="o">&gt;</span> <span class="n">coc</span><span class="p">#</span><span class="n">refresh</span><span class="p">()</span>
<span class="k">else</span>
  <span class="n">inoremap</span> <span class="o">&lt;</span><span class="n">silent</span><span class="o">&gt;&lt;</span><span class="n">expr</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">c</span><span class="o">-</span><span class="p">@</span><span class="o">&gt;</span> <span class="n">coc</span><span class="p">#</span><span class="n">refresh</span><span class="p">()</span>
<span class="n">endif</span>

<span class="s">&quot; Make &lt;CR&gt; auto-select the first completion item and notify coc.nvim to</span>
<span class="s">&quot; format on enter, &lt;cr&gt; could be remapped by other vim plugin</span>
<span class="n">inoremap</span> <span class="o">&lt;</span><span class="n">silent</span><span class="o">&gt;&lt;</span><span class="n">expr</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">cr</span><span class="o">&gt;</span> <span class="n">pumvisible</span><span class="p">()</span> <span class="o">?</span> <span class="n">coc</span><span class="p">#</span><span class="n">_select_confirm</span><span class="p">()</span>
                              <span class="n">\:</span> <span class="s">&quot;\&lt;C-g&gt;u\&lt;CR&gt;\&lt;c-r&gt;=coc#on_enter()\&lt;CR&gt;&quot;</span>

<span class="s">&quot; Use `[g` and `]g` to navigate diagnostics</span>
<span class="s">&quot; Use `:CocDiagnostics` to get all diagnostics of current buffer in location list.</span>
<span class="n">nmap</span> <span class="o">&lt;</span><span class="n">silent</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">g</span> <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">diagnostic</span><span class="o">-</span><span class="n">prev</span><span class="p">)</span>
<span class="n">nmap</span> <span class="o">&lt;</span><span class="n">silent</span><span class="o">&gt;</span> <span class="p">]</span><span class="n">g</span> <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">diagnostic</span><span class="o">-</span><span class="n">next</span><span class="p">)</span>

<span class="s">&quot; GoTo code navigation.</span>
<span class="n">nmap</span> <span class="o">&lt;</span><span class="n">silent</span><span class="o">&gt;</span> <span class="n">gd</span> <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">definition</span><span class="p">)</span>
<span class="n">nmap</span> <span class="o">&lt;</span><span class="n">silent</span><span class="o">&gt;</span> <span class="n">gy</span> <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="k">type</span><span class="o">-</span><span class="n">definition</span><span class="p">)</span>
<span class="n">nmap</span> <span class="o">&lt;</span><span class="n">silent</span><span class="o">&gt;</span> <span class="n">gi</span> <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">implementation</span><span class="p">)</span>
<span class="n">nmap</span> <span class="o">&lt;</span><span class="n">silent</span><span class="o">&gt;</span> <span class="n">gr</span> <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">references</span><span class="p">)</span>

<span class="s">&quot; Use K to show documentation in preview window.</span>
<span class="n">nnoremap</span> <span class="o">&lt;</span><span class="n">silent</span><span class="o">&gt;</span> <span class="n">K</span> <span class="o">:</span><span class="n">call</span> <span class="o">&lt;</span><span class="n">SID</span><span class="o">&gt;</span><span class="n">show_documentation</span><span class="p">()</span><span class="o">&lt;</span><span class="n">CR</span><span class="o">&gt;</span>

<span class="k">function</span><span class="o">!</span> <span class="nl">s:</span><span class="n">show_documentation</span><span class="p">()</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">index</span><span class="p">([&#39;</span><span class="n">vim</span><span class="sc">&#39;,&#39;</span><span class="n">help</span><span class="p">&#39;],</span> <span class="o">&amp;</span><span class="n">filetype</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mh">0</span><span class="p">)</span>
    <span class="n">execute</span> <span class="p">&#39;</span><span class="n">h</span> <span class="p">&#39;.</span><span class="n">expand</span><span class="p">(&#39;</span><span class="o">&lt;</span><span class="n">cword</span><span class="o">&gt;</span><span class="p">&#39;)</span>
  <span class="n">elseif</span> <span class="p">(</span><span class="n">coc</span><span class="p">#</span><span class="n">rpc</span><span class="p">#</span><span class="n">ready</span><span class="p">())</span>
    <span class="n">call</span> <span class="n">CocActionAsync</span><span class="p">(&#39;</span><span class="n">doHover</span><span class="p">&#39;)</span>
  <span class="k">else</span>
    <span class="n">execute</span> <span class="sc">&#39;!&#39;</span> <span class="p">.</span> <span class="o">&amp;</span><span class="n">keywordprg</span> <span class="p">.</span> <span class="s">&quot; &quot;</span> <span class="p">.</span> <span class="n">expand</span><span class="p">(&#39;</span><span class="o">&lt;</span><span class="n">cword</span><span class="o">&gt;</span><span class="p">&#39;)</span>
  <span class="n">endif</span>
<span class="k">endfunction</span>

<span class="s">&quot; Highlight the symbol and its references when holding the cursor.</span>
<span class="n">auto.html</span> <span class="n">CursorHold</span> <span class="o">*</span> <span class="n">silent</span> <span class="n">call</span> <span class="n">CocActionAsync</span><span class="p">(&#39;</span><span class="n">highlight</span><span class="p">&#39;)</span>

<span class="s">&quot; Symbol renaming.</span>
<span class="n">nmap</span> <span class="o">&lt;</span><span class="n">leader</span><span class="o">&gt;</span><span class="n">rn</span> <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">rename</span><span class="p">)</span>

<span class="s">&quot; Formatting selected code.</span>
<span class="n">xmap</span> <span class="o">&lt;</span><span class="n">leader</span><span class="o">&gt;</span><span class="n">f</span>  <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">format</span><span class="o">-</span><span class="n">selected</span><span class="p">)</span>
<span class="n">nmap</span> <span class="o">&lt;</span><span class="n">leader</span><span class="o">&gt;</span><span class="n">f</span>  <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">format</span><span class="o">-</span><span class="n">selected</span><span class="p">)</span>

<span class="n">augroup</span> <span class="n">mygroup</span>
  <span class="n">auto.html</span><span class="o">!</span>
  <span class="s">&quot; Setup formatexpr specified filetype(s).</span>
  <span class="n">auto.html</span> <span class="n">FileType</span> <span class="n">typescript</span><span class="p">,</span><span class="n">json</span> <span class="n">setl</span> <span class="n">formatexpr</span><span class="o">=</span><span class="n">CocAction</span><span class="p">(&#39;</span><span class="n">formatSelected</span><span class="p">&#39;)</span>
  <span class="s">&quot; Update signature help on jump placeholder.</span>
  <span class="n">auto.html</span> <span class="n">User</span> <span class="n">CocJumpPlaceholder</span> <span class="n">call</span> <span class="n">CocActionAsync</span><span class="p">(&#39;</span><span class="n">showSignatureHelp</span><span class="p">&#39;)</span>
<span class="n">augroup</span> <span class="k">end</span>

<span class="s">&quot; Applying codeAction to the selected region.</span>
<span class="s">&quot; Example: `&lt;leader&gt;aap` for current paragraph</span>
<span class="n">xmap</span> <span class="o">&lt;</span><span class="n">leader</span><span class="o">&gt;</span><span class="n">a</span>  <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">codeaction</span><span class="o">-</span><span class="n">selected</span><span class="p">)</span>
<span class="n">nmap</span> <span class="o">&lt;</span><span class="n">leader</span><span class="o">&gt;</span><span class="n">a</span>  <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">codeaction</span><span class="o">-</span><span class="n">selected</span><span class="p">)</span>

<span class="s">&quot; Remap keys for applying codeAction to the current buffer.</span>
<span class="n">nmap</span> <span class="o">&lt;</span><span class="n">leader</span><span class="o">&gt;</span><span class="n">ac</span>  <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">codeaction</span><span class="p">)</span>
<span class="s">&quot; Apply AutoFix to problem on the current line.</span>
<span class="n">nmap</span> <span class="o">&lt;</span><span class="n">leader</span><span class="o">&gt;</span><span class="n">qf</span>  <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">fix</span><span class="o">-</span><span class="n">current</span><span class="p">)</span>

<span class="s">&quot; Map function and class text objects</span>
<span class="s">&quot; NOTE: Requires &#39;textDocument.documentSymbol&#39; support from the language server.</span>
<span class="n">xmap</span> <span class="k">if</span> <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">funcobj</span><span class="o">-</span><span class="n">i</span><span class="p">)</span>
<span class="n">omap</span> <span class="k">if</span> <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">funcobj</span><span class="o">-</span><span class="n">i</span><span class="p">)</span>
<span class="n">xmap</span> <span class="n">af</span> <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">funcobj</span><span class="o">-</span><span class="n">a</span><span class="p">)</span>
<span class="n">omap</span> <span class="n">af</span> <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">funcobj</span><span class="o">-</span><span class="n">a</span><span class="p">)</span>
<span class="n">xmap</span> <span class="n">ic</span> <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">classobj</span><span class="o">-</span><span class="n">i</span><span class="p">)</span>
<span class="n">omap</span> <span class="n">ic</span> <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">classobj</span><span class="o">-</span><span class="n">i</span><span class="p">)</span>
<span class="n">xmap</span> <span class="n">ac</span> <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">classobj</span><span class="o">-</span><span class="n">a</span><span class="p">)</span>
<span class="n">omap</span> <span class="n">ac</span> <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">classobj</span><span class="o">-</span><span class="n">a</span><span class="p">)</span>

<span class="s">&quot; Remap &lt;C-f&gt; and &lt;C-b&gt; for scroll float windows/popups.</span>
<span class="s">&quot;if has(&#39;nvim-0.4.0&#39;) || has(&#39;patch-8.2.0750&#39;)</span>
<span class="s">&quot;  nnoremap &lt;silent&gt;&lt;nowait&gt;&lt;expr&gt; &lt;C-f&gt; coc#float#has_scroll() ? coc#float#scroll(1) : &quot;</span><span class="n">\&lt;C-f&gt;&quot;</span>
<span class="s">&quot;  nnoremap &lt;silent&gt;&lt;nowait&gt;&lt;expr&gt; &lt;C-b&gt; coc#float#has_scroll() ? coc#float#scroll(0) : &quot;</span><span class="n">\&lt;C-b&gt;&quot;</span>
<span class="s">&quot;  inoremap &lt;silent&gt;&lt;nowait&gt;&lt;expr&gt; &lt;C-f&gt; coc#float#has_scroll() ? &quot;</span><span class="n">\&lt;c-r&gt;=coc#float#scroll(1)\&lt;cr&gt;&quot;</span> <span class="o">:</span> <span class="s">&quot;\&lt;Right&gt;&quot;</span>
<span class="s">&quot;  inoremap &lt;silent&gt;&lt;nowait&gt;&lt;expr&gt; &lt;C-b&gt; coc#float#has_scroll() ? &quot;</span><span class="n">\&lt;c-r&gt;=coc#float#scroll(0)\&lt;cr&gt;&quot;</span> <span class="o">:</span> <span class="s">&quot;\&lt;Left&gt;&quot;</span>
<span class="s">&quot;  vnoremap &lt;silent&gt;&lt;nowait&gt;&lt;expr&gt; &lt;C-f&gt; coc#float#has_scroll() ? coc#float#scroll(1) : &quot;</span><span class="n">\&lt;C-f&gt;&quot;</span>
<span class="s">&quot;  vnoremap &lt;silent&gt;&lt;nowait&gt;&lt;expr&gt; &lt;C-b&gt; coc#float#has_scroll() ? coc#float#scroll(0) : &quot;</span><span class="n">\&lt;C-b&gt;&quot;</span>
<span class="s">&quot;endif</span>

<span class="s">&quot; Use CTRL-S for selections ranges.</span>
<span class="s">&quot; Requires &#39;textDocument/selectionRange&#39; support of language server.</span>
<span class="n">nmap</span> <span class="o">&lt;</span><span class="n">silent</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">C</span><span class="o">-</span><span class="n">s</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">range</span><span class="o">-</span><span class="n">select</span><span class="p">)</span>
<span class="n">xmap</span> <span class="o">&lt;</span><span class="n">silent</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">C</span><span class="o">-</span><span class="n">s</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">range</span><span class="o">-</span><span class="n">select</span><span class="p">)</span>

<span class="s">&quot; Add `:Format` command to format current buffer.</span>
<span class="n">command</span><span class="o">!</span> <span class="o">-</span><span class="n">nargs</span><span class="o">=</span><span class="mh">0</span> <span class="n">Format</span> <span class="o">:</span><span class="n">call</span> <span class="n">CocAction</span><span class="p">(&#39;</span><span class="n">format</span><span class="p">&#39;)</span>

<span class="s">&quot; Add `:Fold` command to fold current buffer.</span>
<span class="n">command</span><span class="o">!</span> <span class="o">-</span><span class="n">nargs</span><span class="o">=?</span> <span class="n">Fold</span> <span class="o">:</span><span class="n">call</span>     <span class="n">CocAction</span><span class="p">(&#39;</span><span class="n">fold</span><span class="p">&#39;,</span> <span class="o">&lt;</span><span class="n">f</span><span class="o">-</span><span class="n">args</span><span class="o">&gt;</span><span class="p">)</span>

<span class="s">&quot; Add `:OR` command for organize imports of the current buffer.</span>
<span class="n">command</span><span class="o">!</span> <span class="o">-</span><span class="n">nargs</span><span class="o">=</span><span class="mh">0</span> <span class="n">OR</span>   <span class="o">:</span><span class="n">call</span>     <span class="n">CocAction</span><span class="p">(&#39;</span><span class="n">runCommand</span><span class="p">&#39;,</span> <span class="p">&#39;</span><span class="n">editor</span><span class="p">.</span><span class="n">action</span><span class="p">.</span><span class="n">organizeImport</span><span class="p">&#39;)</span>

<span class="s">&quot; Add (Neo)Vim&#39;s native statusline support.</span>
<span class="s">&quot; NOTE: Please see `:h coc-status` for integrations with external plugins that</span>
<span class="s">&quot; provide custom statusline: lightline.vim, vim-airline.</span>
<span class="s">&quot; set statusline^=%{coc#status()}%{get(b:,&#39;coc_current_function&#39;,&#39;&#39;)}</span>

<span class="s">&quot; Mappings for CoCList</span>
<span class="s">&quot; Show all diagnostics.</span>
<span class="n">nnoremap</span> <span class="o">&lt;</span><span class="n">silent</span><span class="o">&gt;&lt;</span><span class="n">nowait</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">space</span><span class="o">&gt;</span><span class="n">a</span>  <span class="o">:&lt;</span><span class="n">C</span><span class="o">-</span><span class="n">u</span><span class="o">&gt;</span><span class="n">CocList</span> <span class="n">diagnostics</span><span class="o">&lt;</span><span class="n">cr</span><span class="o">&gt;</span>
<span class="s">&quot; Manage extensions.</span>
<span class="n">nnoremap</span> <span class="o">&lt;</span><span class="n">silent</span><span class="o">&gt;&lt;</span><span class="n">nowait</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">space</span><span class="o">&gt;</span><span class="n">e</span>  <span class="o">:&lt;</span><span class="n">C</span><span class="o">-</span><span class="n">u</span><span class="o">&gt;</span><span class="n">CocList</span> <span class="n">extensions</span><span class="o">&lt;</span><span class="n">cr</span><span class="o">&gt;</span>
<span class="s">&quot; Show commands.</span>
<span class="n">nnoremap</span> <span class="o">&lt;</span><span class="n">silent</span><span class="o">&gt;&lt;</span><span class="n">nowait</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">space</span><span class="o">&gt;</span><span class="n">c</span>  <span class="o">:&lt;</span><span class="n">C</span><span class="o">-</span><span class="n">u</span><span class="o">&gt;</span><span class="n">CocList</span> <span class="n">commands</span><span class="o">&lt;</span><span class="n">cr</span><span class="o">&gt;</span>
<span class="s">&quot; Find symbol of current document.</span>
<span class="n">nnoremap</span> <span class="o">&lt;</span><span class="n">silent</span><span class="o">&gt;&lt;</span><span class="n">nowait</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">space</span><span class="o">&gt;</span><span class="n">o</span>  <span class="o">:&lt;</span><span class="n">C</span><span class="o">-</span><span class="n">u</span><span class="o">&gt;</span><span class="n">CocList</span> <span class="n">outline</span><span class="o">&lt;</span><span class="n">cr</span><span class="o">&gt;</span>
<span class="s">&quot; Search workspace symbols.</span>
<span class="n">nnoremap</span> <span class="o">&lt;</span><span class="n">silent</span><span class="o">&gt;&lt;</span><span class="n">nowait</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">space</span><span class="o">&gt;</span><span class="n">s</span>  <span class="o">:&lt;</span><span class="n">C</span><span class="o">-</span><span class="n">u</span><span class="o">&gt;</span><span class="n">CocList</span> <span class="o">-</span><span class="n">I</span> <span class="n">symbols</span><span class="o">&lt;</span><span class="n">cr</span><span class="o">&gt;</span>
<span class="s">&quot; Do default action for next item.</span>
<span class="n">nnoremap</span> <span class="o">&lt;</span><span class="n">silent</span><span class="o">&gt;&lt;</span><span class="n">nowait</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">space</span><span class="o">&gt;</span><span class="n">j</span>  <span class="o">:&lt;</span><span class="n">C</span><span class="o">-</span><span class="n">u</span><span class="o">&gt;</span><span class="n">CocNext</span><span class="o">&lt;</span><span class="n">CR</span><span class="o">&gt;</span>
<span class="s">&quot; Do default action for previous item.</span>
<span class="n">nnoremap</span> <span class="o">&lt;</span><span class="n">silent</span><span class="o">&gt;&lt;</span><span class="n">nowait</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">space</span><span class="o">&gt;</span><span class="n">k</span>  <span class="o">:&lt;</span><span class="n">C</span><span class="o">-</span><span class="n">u</span><span class="o">&gt;</span><span class="n">CocPrev</span><span class="o">&lt;</span><span class="n">CR</span><span class="o">&gt;</span>
<span class="s">&quot; Resume latest coc list.</span>
<span class="n">nnoremap</span> <span class="o">&lt;</span><span class="n">silent</span><span class="o">&gt;&lt;</span><span class="n">nowait</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">space</span><span class="o">&gt;</span><span class="n">p</span>  <span class="o">:&lt;</span><span class="n">C</span><span class="o">-</span><span class="n">u</span><span class="o">&gt;</span><span class="n">CocListResume</span><span class="o">&lt;</span><span class="n">CR</span><span class="o">&gt;</span>


<span class="n">auto.html</span> <span class="n">User</span> <span class="n">CocJumpPlaceholder</span> <span class="n">call</span> <span class="n">CocActionAsync</span><span class="p">(&#39;</span><span class="n">showSignatureHelp</span><span class="p">&#39;)</span>

<span class="n">let</span> <span class="nl">g:</span><span class="n">coc_global_extensions</span> <span class="o">=</span> <span class="p">[&#39;</span><span class="n">coc</span><span class="o">-</span><span class="n">python</span><span class="p">&#39;,</span> <span class="p">&#39;</span><span class="n">coc</span><span class="o">-</span><span class="n">rome</span><span class="p">&#39;]</span>

<span class="s">&quot; Remap for do codeAction of selected region</span>
<span class="k">function</span><span class="o">!</span> <span class="nl">s:</span><span class="n">cocActionsOpenFromSelected</span><span class="p">(</span><span class="k">type</span><span class="p">)</span> <span class="n">abort</span>
  <span class="n">execute</span> <span class="p">&#39;</span><span class="n">CocCommand</span> <span class="n">actions</span><span class="p">.</span><span class="n">open</span> <span class="p">&#39;</span> <span class="p">.</span> <span class="nl">a:</span><span class="k">type</span>
<span class="k">endfunction</span>
<span class="n">xmap</span> <span class="o">&lt;</span><span class="n">silent</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">leader</span><span class="o">&gt;</span><span class="n">a</span> <span class="o">:&lt;</span><span class="n">C</span><span class="o">-</span><span class="n">u</span><span class="o">&gt;</span><span class="n">execute</span> <span class="p">&#39;</span><span class="n">CocCommand</span> <span class="n">actions</span><span class="p">.</span><span class="n">open</span> <span class="p">&#39;</span> <span class="p">.</span> <span class="n">visualmode</span><span class="p">()</span><span class="o">&lt;</span><span class="n">CR</span><span class="o">&gt;</span>
<span class="n">nmap</span>  <span class="o">&lt;</span><span class="n">silent</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">leader</span><span class="o">&gt;</span><span class="n">a</span> <span class="o">:&lt;</span><span class="n">C</span><span class="o">-</span><span class="n">u</span><span class="o">&gt;</span><span class="n">set</span> <span class="n">operatorfunc</span><span class="o">=&lt;</span><span class="n">SID</span><span class="o">&gt;</span><span class="n">cocActionsOpenFromSelected</span><span class="o">&lt;</span><span class="n">CR</span><span class="o">&gt;</span><span class="n">g</span><span class="p">@</span>

<span class="s">&quot; Use &lt;C-l&gt; for trigger snippet expand.</span>
<span class="n">imap</span> <span class="o">&lt;</span><span class="n">C</span><span class="o">-</span><span class="n">l</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">snippets</span><span class="o">-</span><span class="n">expand</span><span class="p">)</span>

<span class="s">&quot; Use &lt;C-j&gt; for select text for visual placeholder of snippet.</span>
<span class="n">vmap</span> <span class="o">&lt;</span><span class="n">C</span><span class="o">-</span><span class="n">j</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">snippets</span><span class="o">-</span><span class="n">select</span><span class="p">)</span>

<span class="s">&quot; Use &lt;C-j&gt; for jump to next placeholder, it&#39;s default of coc.nvim</span>
<span class="n">let</span> <span class="nl">g:</span><span class="n">coc_snippet_next</span> <span class="o">=</span> <span class="p">&#39;</span><span class="o">&lt;</span><span class="n">c</span><span class="o">-</span><span class="n">j</span><span class="o">&gt;</span><span class="p">&#39;</span>

<span class="s">&quot; Use &lt;C-k&gt; for jump to previous placeholder, it&#39;s default of coc.nvim</span>
<span class="n">let</span> <span class="nl">g:</span><span class="n">coc_snippet_prev</span> <span class="o">=</span> <span class="p">&#39;</span><span class="o">&lt;</span><span class="n">c</span><span class="o">-</span><span class="n">k</span><span class="o">&gt;</span><span class="p">&#39;</span>

<span class="s">&quot; Use &lt;C-j&gt; for both expand and jump (make expand higher priority.)</span>
<span class="n">imap</span> <span class="o">&lt;</span><span class="n">C</span><span class="o">-</span><span class="n">j</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">snippets</span><span class="o">-</span><span class="n">expand</span><span class="o">-</span><span class="n">jump</span><span class="p">)</span>

<span class="n">nmap</span> <span class="o">&lt;</span><span class="n">leader</span><span class="o">&gt;</span><span class="n">rn</span> <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">rename</span><span class="p">)</span>

<span class="s">&quot; Use K to show documentation in preview window.</span>
<span class="n">nnoremap</span> <span class="o">&lt;</span><span class="n">silent</span><span class="o">&gt;</span> <span class="n">K</span> <span class="o">:</span><span class="n">call</span> <span class="o">&lt;</span><span class="n">SID</span><span class="o">&gt;</span><span class="n">show_documentation</span><span class="p">()</span><span class="o">&lt;</span><span class="n">CR</span><span class="o">&gt;</span>

<span class="n">let</span> <span class="nl">g:</span><span class="n">autofmt_autosave</span> <span class="o">=</span> <span class="mh">1</span>

<span class="k">function</span><span class="o">!</span> <span class="nl">s:</span><span class="n">show_documentation</span><span class="p">()</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">index</span><span class="p">([&#39;</span><span class="n">vim</span><span class="sc">&#39;,&#39;</span><span class="n">help</span><span class="p">&#39;],</span> <span class="o">&amp;</span><span class="n">filetype</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mh">0</span><span class="p">)</span>
    <span class="n">execute</span> <span class="p">&#39;</span><span class="n">h</span> <span class="p">&#39;.</span><span class="n">expand</span><span class="p">(&#39;</span><span class="o">&lt;</span><span class="n">cword</span><span class="o">&gt;</span><span class="p">&#39;)</span>
  <span class="k">else</span>
    <span class="n">call</span> <span class="n">CocAction</span><span class="p">(&#39;</span><span class="n">doHover</span><span class="p">&#39;)</span>
  <span class="n">endif</span>
<span class="k">endfunction</span>


<span class="s">&quot; Give more space for displaying messages.</span>
<span class="n">set</span> <span class="n">.htmlheight</span><span class="o">=</span><span class="mh">2</span>

<span class="s">&quot; Having longer updatetime (default is 4000 ms = 4 s) leads to noticeable</span>
<span class="s">&quot; delays and poor user experience.</span>
<span class="n">set</span> <span class="n">updatetime</span><span class="o">=</span><span class="mh">300</span>

<span class="s">&quot; Don&#39;t pass messages to |ins-completion-menu|.</span>
<span class="n">set</span> <span class="n">shortmess</span><span class="o">+=</span><span class="n">c</span>

<span class="s">&quot; Use `[g` and `]g` to navigate diagnostics</span>
<span class="s">&quot; Use `:CocDiagnostics` to get all diagnostics of current buffer in location list.</span>
<span class="n">nmap</span> <span class="o">&lt;</span><span class="n">silent</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">g</span> <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">diagnostic</span><span class="o">-</span><span class="n">prev</span><span class="p">)</span>
<span class="n">nmap</span> <span class="o">&lt;</span><span class="n">silent</span><span class="o">&gt;</span> <span class="p">]</span><span class="n">g</span> <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">diagnostic</span><span class="o">-</span><span class="n">next</span><span class="p">)</span>

<span class="s">&quot; GoTo code navigation.</span>
<span class="n">nmap</span> <span class="o">&lt;</span><span class="n">silent</span><span class="o">&gt;</span> <span class="n">gd</span> <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">definition</span><span class="p">)</span>
<span class="n">nmap</span> <span class="o">&lt;</span><span class="n">silent</span><span class="o">&gt;</span> <span class="n">gy</span> <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="k">type</span><span class="o">-</span><span class="n">definition</span><span class="p">)</span>
<span class="n">nmap</span> <span class="o">&lt;</span><span class="n">silent</span><span class="o">&gt;</span> <span class="n">gi</span> <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">implementation</span><span class="p">)</span>
<span class="n">nmap</span> <span class="o">&lt;</span><span class="n">silent</span><span class="o">&gt;</span> <span class="n">gr</span> <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">references</span><span class="p">)</span>

<span class="s">&quot; Formatting selected code.</span>
<span class="n">xmap</span> <span class="o">&lt;</span><span class="n">leader</span><span class="o">&gt;</span><span class="n">f</span>  <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">format</span><span class="o">-</span><span class="n">selected</span><span class="p">)</span>
<span class="n">nmap</span> <span class="o">&lt;</span><span class="n">leader</span><span class="o">&gt;</span><span class="n">f</span>  <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">format</span><span class="o">-</span><span class="n">selected</span><span class="p">)</span>

<span class="n">augroup</span> <span class="n">mygroup</span>
  <span class="n">auto.html</span><span class="o">!</span>
  <span class="s">&quot; Setup formatexpr specified filetype(s).</span>
  <span class="n">auto.html</span> <span class="n">FileType</span> <span class="n">typescript</span><span class="p">,</span><span class="n">json</span> <span class="n">setl</span> <span class="n">formatexpr</span><span class="o">=</span><span class="n">CocAction</span><span class="p">(&#39;</span><span class="n">formatSelected</span><span class="p">&#39;)</span>
  <span class="s">&quot; Update signature help on jump placeholder.</span>
  <span class="n">auto.html</span> <span class="n">User</span> <span class="n">CocJumpPlaceholder</span> <span class="n">call</span> <span class="n">CocActionAsync</span><span class="p">(&#39;</span><span class="n">showSignatureHelp</span><span class="p">&#39;)</span>
<span class="n">augroup</span> <span class="k">end</span>


<span class="s">&quot; Applying codeAction to the selected region.</span>
<span class="s">&quot; Example: `&lt;leader&gt;aap` for current paragraph</span>
<span class="n">xmap</span> <span class="o">&lt;</span><span class="n">leader</span><span class="o">&gt;</span><span class="n">a</span>  <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">codeaction</span><span class="o">-</span><span class="n">selected</span><span class="p">)</span>
<span class="n">nmap</span> <span class="o">&lt;</span><span class="n">leader</span><span class="o">&gt;</span><span class="n">a</span>  <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">codeaction</span><span class="o">-</span><span class="n">selected</span><span class="p">)</span>

<span class="s">&quot; Remap keys for applying codeAction to the current buffer.</span>
<span class="n">nmap</span> <span class="o">&lt;</span><span class="n">leader</span><span class="o">&gt;</span><span class="n">ac</span>  <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">codeaction</span><span class="p">)</span>
<span class="s">&quot; Apply AutoFix to problem on the current line.</span>
<span class="n">nmap</span> <span class="o">&lt;</span><span class="n">leader</span><span class="o">&gt;</span><span class="n">qf</span>  <span class="o">&lt;</span><span class="n">Plug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">coc</span><span class="o">-</span><span class="n">fix</span><span class="o">-</span><span class="n">current</span><span class="p">)</span>

<span class="s">&quot; Add `:Format` command to format current buffer.</span>
<span class="n">command</span><span class="o">!</span> <span class="o">-</span><span class="n">nargs</span><span class="o">=</span><span class="mh">0</span> <span class="n">Format</span> <span class="o">:</span><span class="n">call</span> <span class="n">CocAction</span><span class="p">(&#39;</span><span class="n">format</span><span class="p">&#39;)</span>

<span class="s">&quot; Add `:Fold` command to fold current buffer.</span>
<span class="n">command</span><span class="o">!</span> <span class="o">-</span><span class="n">nargs</span><span class="o">=?</span> <span class="n">Fold</span> <span class="o">:</span><span class="n">call</span>     <span class="n">CocAction</span><span class="p">(&#39;</span><span class="n">fold</span><span class="p">&#39;,</span> <span class="o">&lt;</span><span class="n">f</span><span class="o">-</span><span class="n">args</span><span class="o">&gt;</span><span class="p">)</span>

<span class="s">&quot; Add `:OR` command for organize imports of the current buffer.</span>
<span class="n">command</span><span class="o">!</span> <span class="o">-</span><span class="n">nargs</span><span class="o">=</span><span class="mh">0</span> <span class="n">OR</span>   <span class="o">:</span><span class="n">call</span>     <span class="n">CocAction</span><span class="p">(&#39;</span><span class="n">runCommand</span><span class="p">&#39;,</span> <span class="p">&#39;</span><span class="n">editor</span><span class="p">.</span><span class="n">action</span><span class="p">.</span><span class="n">organizeImport</span><span class="p">&#39;)</span>

<span class="s">&quot; Add (Neo)Vim&#39;s native statusline support.</span>
<span class="s">&quot; NOTE: Please see `:h coc-status` for integrations with external plugins that</span>
<span class="s">&quot; provide custom statusline: lightline.vim, vim-airline.</span>
<span class="s">&quot;set statusline+=%{coc#status()}%{get(b:,&#39;coc_current_function&#39;,&#39;&#39;)}</span>
</code></pre></div>